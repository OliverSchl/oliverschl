<!DOCTYPE html>
<html lang="en-us">
<head>
    <link rel="stylesheet" type="text/css" href="https://mcaule.github.io/d3-timeseries/dist/d3_timeseries.min.css">
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.min.js"></script>
    <script src="https://mcaule.github.io/d3-timeseries/dist/d3_timeseries.min.js"></script>
    <script src="https://mcaule.github.io/d3-timeseries/dist/create-example-data.js"></script>
    <script src="https://rawgit.com/jasondavies/d3-cloud/master/build/d3.layout.cloud.js"></script>
    
    <section class="main-content">
        <h3>
            Difference
        </h3>

        <!-- <div class="chartContainer"> -->
            <!-- <p class="codepen" data-default-tab="result" data-embed-version="2" data-height="500" data-pen-title="d3-timeseries Example 1" data-slug-hash="wPpJWr" data-theme-id="dark" data-user="mcaule"> -->
            <div id="chart"></div>
            <!-- </p> -->
            <script>
                var data = createRandomData(80,[0,1000],0.01)
                // [{date:new Date('2013-01-01'),n:120,n3:200,ci_up:127,ci_down:115},...]
                var chart = d3_timeseries()
                  .addSerie(data.slice(0,60),{x:'date',y:'n'},{interpolate:'linear',color:"#a6cee3",label:"value"})
                  .addSerie(data.slice(50),
                          {x:'date',y:'n3',ci_up:'ci_up',ci_down:'ci_down'},
                          {interpolate:'monotone',dashed:true,color:"#a6cee3",label:"prediction"})
                  .width(820)

                chart('#chart')
            </script>
        <!-- </div> -->
        
        <div id="cloud"></div>
        <script>
            var fill = d3.scale.category20();
            var words = [{"text":"This", "url":"http://google.com/"},
                         {"text":"is", "url":"http://bing.com/"},
                         {"text":"some", "url":"http://somewhere.com/"},
                         {"text":"random", "url":"http://random.org/"},
                         {"text":"text", "url":"http://text.com/"}]
            var width = 800;
            var height = 300;
            for (var i = 0; i < words.length; i++) {
             words[i].size = 10 + Math.random() * 90;
            }

            d3.layout.cloud()
              .size([width, height])
              .words(words)
              .padding(5)
              .rotate(function() { return ~~ (Math.random() * 2) * 90; })
              .font("Impact")
              .fontSize(function(d) { return d.size;})
              .on("end", draw)
              .start();

            function draw(words) {
                d3.select("#cloud")
                  .append("svg")
                  .attr("width", width)
                  .attr("height", height)
                  .append("g")
                  .attr("transform", "translate("+ width/2 +","+ height/2 +")")
                  .selectAll("text")
                  .data(words)
                  .enter()
                  .append("text")
                  .style("font-size", function(d) { return d.size + "px"; })
                  .style("font-family", "Impact")
                  .style("fill", function(d, i) { return fill(i); })
                  .attr("text-anchor", "middle")
                  .attr("transform", function(d) {
                      return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")"; 
                  })
                  .text(function(d) { return d.text; })
                  .on("click", function (d, i){
                      window.open(d.url, "_blank");
                  })
                        .on("mouseover", function(d){
                        d3.select(this).style("fill", function() {
                    return d3.rgb(d3.select(this).style("fill")).darker(1);
                        });
                        })
                  .on("mouseout", function(d){
                        d3.select(this).style("fill", function() {
                    return d3.rgb(d3.select(this).style("fill")).brighter(1);
                        });
                        });
            }
        </script>
        
        
    </section>
</body>
